{"ast":null,"code":"import _regeneratorRuntime from \"/Users/estebanleandro/Documents/Projects/personal/Comparer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/estebanleandro/Documents/Projects/personal/Comparer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/estebanleandro/Documents/Projects/personal/Comparer/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/estebanleandro/Documents/Projects/personal/Comparer/src/App.js\";\nimport React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./styles.css\";\nimport getMetrics from \"./metrics\";\n\nfunction filterMetrics(object, metrics) {\n  var list = [];\n  metrics.forEach(function (metric) {\n    if (object[metric]) {\n      list.push({\n        key: metric,\n        value: object[metric]\n      });\n    }\n  });\n  return list;\n}\n\nfunction Form() {\n  var _this = this;\n\n  var metrics = getMetrics();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      testUrl = _useState2[0],\n      setTestUrl = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      data = _useState4[0],\n      setData = _useState4[1];\n\n  function getData(_x) {\n    return _getData.apply(this, arguments);\n  }\n\n  function _getData() {\n    _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(testUrl) {\n      var url, segments, id, dataUrl, result, filtered;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = testUrl.replace('https://', '');\n              segments = url.split(\"/\");\n              id = segments[2];\n              dataUrl = \"https://webpagetest.org/jsonResult.php?test=\" + id + \"&pretty=1\";\n              _context.next = 6;\n              return axios(dataUrl);\n\n            case 6:\n              result = _context.sent;\n              filtered = filterMetrics(result.data.data.median.firstView, metrics);\n              console.log(\"filtered!: \", filtered);\n              setData(filtered);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _getData.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-field col s12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: function onChange(event) {\n      setTestUrl(event.target.value);\n    },\n    id: \"email\",\n    type: \"text\",\n    className: \"validate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 6\n    }\n  }, \"Webpagetest URL\"))), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return getData(testUrl);\n    },\n    className: \"btn waves-effect waves-light\",\n    type: \"submit\",\n    name: \"action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 4\n    }\n  }, \"Submit\"), /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, \"Metric\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, \"Budget\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Value\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, data.map(function (metric) {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 10\n      }\n    }, metric.key), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 10\n      }\n    }, \"Budget\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 10\n      }\n    }, metric.value));\n  }))));\n}\n\nexport default function App() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 4\n    }\n  }));\n}","map":{"version":3,"sources":["/Users/estebanleandro/Documents/Projects/personal/Comparer/src/App.js"],"names":["React","useState","axios","getMetrics","filterMetrics","object","metrics","list","forEach","metric","push","key","value","Form","testUrl","setTestUrl","data","setData","getData","url","replace","segments","split","id","dataUrl","result","filtered","median","firstView","console","log","event","target","map","App"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport \"./styles.css\";\nimport getMetrics from \"./metrics\";\n\nfunction filterMetrics(object, metrics){\n\tvar list = [];\n\t\n\tmetrics.forEach(metric => {\n\t\tif(object[metric]){\n\t\t\tlist.push({\n\t\t\t\tkey: metric,\n\t\t\t\tvalue: object[metric]\n\t\t\t})\n\t\t}\n\t});\n\n\treturn list;\n}\n\nfunction Form() {\n\tconst metrics = getMetrics();\n\tconst [testUrl, setTestUrl] = useState(\"\");\n\tconst [data, setData] = useState([]);\n\n\tasync function getData(testUrl){\n\t\tlet url = testUrl.replace('https://', '');\n\t\tlet segments = url.split(\"/\");\n\t\tconst id = segments[2];\n\t\tconst dataUrl = \"https://webpagetest.org/jsonResult.php?test=\" + id + \"&pretty=1\";\n\t\tconst result = await axios(dataUrl);\n\t\t\n\t\tvar filtered = filterMetrics(result.data.data.median.firstView, metrics)\n\t\tconsole.log(\"filtered!: \", filtered);\n\t\tsetData(filtered);\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"row\">\n\t\t\t\t<div className=\"input-field col s12\">\n\t\t\t\t\t<input onChange={(event)=> {setTestUrl(event.target.value)}} id=\"email\" type=\"text\" className=\"validate\" />\n\t\t\t\t\t<label htmlFor=\"email\">Webpagetest URL</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<button onClick={ ()  => getData(testUrl) } className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\">\n\t\t\t\tSubmit\n\t\t\t</button>\n\n\t\t\t<table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Metric</th>\n\t\t\t\t\t\t<th>Budget</th>\n\t\t\t\t\t\t<th>Value</th>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\n\t\t\t\t<tbody>\n\n\t\t\t\t\t{\n\t\t\t\t\t\tdata.map( metric => {\n\t\t\t\t\t\t\treturn(\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>{metric.key}</td>\n\t\t\t\t\t\t\t\t\t<td>Budget</td>\n\t\t\t\t\t\t\t\t\t<td>{metric.value}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t</div>\n\t);\n}\n\nexport default function App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Form />\n\t\t</div>\n\t);\n}\n"]},"metadata":{},"sourceType":"module"}